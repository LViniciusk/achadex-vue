"use strict";(self["webpackChunkachadex_vue"]=self["webpackChunkachadex_vue"]||[]).push([[594],{8922:function(t,s,e){e.d(s,{A:function(){return c}});var a=e(6768),o=e(4232);const i={class:"message-container"};function l(t,s,e,l,r,n){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("p",null,(0,o.v_)(e.msg),1)])}var r={name:"Message",props:{msg:String}},n=e(1241);const d=(0,n.A)(r,[["render",l],["__scopeId","data-v-2ae96114"]]);var c=d},3665:function(t,s,e){e.r(s),e.d(s,{default:function(){return R}});var a=e(6768),o=e(5130),i=e(4232);const l=t=>((0,a.Qi)("data-v-00d30d91"),t=t(),(0,a.jt)(),t),r={class:"col-lg-10 col-md-12 m-auto main-card"},n={class:"card shadow-lg card-1"},d={class:"card-body inner-card"},c={class:"row justify-content-center"},u={class:"col-lg-5 col-md-6 col-sm-12"},m={class:"form-group"},h=l((()=>(0,a.Lk)("label",{for:"first-name"},"Titulo",-1))),p={class:"col-lg-5 col-md-6 col-sm-12"},g={class:"form-group"},f=l((()=>(0,a.Lk)("label",{for:"last-name"},"Data",-1))),b={class:"form-group"},k=l((()=>(0,a.Lk)("label",{for:"inputEmail4"},"Categoria",-1))),v=["value"],L={class:"row justify-content-center"},y={class:"col-md-12 col-lg-10 col-12"},C={class:"form-group files"},w=l((()=>(0,a.Lk)("label",{class:"my-auto"},"Imagem ",-1))),j=["src"],x={class:"row justify-content-center"},E={class:"col-md-12 col-lg-10 col-12"},I={class:"form-group"},T=l((()=>(0,a.Lk)("label",{for:"exampleFormControlTextarea2"},"Descrição",-1))),A={class:"row justify-content-end mb-5"},S={class:"col-lg-4 col-auto"},U=l((()=>(0,a.Lk)("small",{class:"font-weight-bold"},"Adcionar Item",-1))),_=[U];function J(t,s,e,l,U,J){return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("div",n,[(0,a.Lk)("div",d,[(0,a.Lk)("div",c,[(0,a.Lk)("div",u,[(0,a.Lk)("div",m,[h,(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>U.title=t),type:"text",class:"form-control",id:"first-name",placeholder:"Nome do item"},null,512),[[o.Jo,U.title]])])]),(0,a.Lk)("div",p,[(0,a.Lk)("div",g,[f,(0,a.eW)(),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>U.data=t),type:"date",class:"form-control",id:"last-name",placeholder:""},null,512),[[o.Jo,U.data]])]),(0,a.Lk)("div",b,[k,(0,a.eW)(),(0,a.bo)((0,a.Lk)("select",{class:"form-control","onUpdate:modelValue":s[2]||(s[2]=t=>U.category=t)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(U.categories,((t,s)=>((0,a.uX)(),(0,a.CE)("option",{key:s,value:t},(0,i.v_)(t.nome),9,v)))),128))],512),[[o.u1,U.category]])])])]),(0,a.Lk)("div",L,[(0,a.Lk)("div",y,[(0,a.Lk)("div",C,[w,(0,a.Lk)("input",{onChange:s[3]||(s[3]=(...t)=>J.getImg&&J.getImg(...t)),id:"file",type:"file",class:"form-control"},null,32),this.img?((0,a.uX)(),(0,a.CE)("img",{key:0,width:"200px",src:U.img,alt:"Foto de perfil"},null,8,j)):(0,a.Q3)("",!0)])])]),(0,a.Lk)("div",x,[(0,a.Lk)("div",E,[(0,a.Lk)("div",I,[T,(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":s[4]||(s[4]=t=>U.description=t),class:"form-control rounded-0",id:"exampleFormControlTextarea2",rows:"5"},null,512),[[o.Jo,U.description]])]),(0,a.Lk)("div",A,[(0,a.Lk)("div",S,[(0,a.Lk)("button",{onClick:s[5]||(s[5]=(...t)=>J.criarItem&&J.criarItem(...t)),type:"button",class:"btn btn-primary btn-block"},_)])])])])])])])}e(4114);var X=e(8602),F={name:"AddItem",data(){return{us:(0,X.k)(),categories:[],title:"",data:"",category:"",img:"",description:""}},methods:{async getCategories(){const t=await fetch("http://localhost:1337/api/categories"),s=await t.json();for(let e=0;e<s.data.length;e++){let t={id:s.data[e].id,nome:s.data[e].attributes.nome};this.categories.push(t)}console.log(this.categories)},getImg(t){const s=t.target.files[0],e=new FileReader;e.onload=t=>{this.img=t.target.result},e.readAsDataURL(s)},criarItem(){const t={data:{title:this.title,date:this.data,img:this.img,text:this.description,category:{id:this.category.id},tipo:this.category.nome,resgatado:null,solicitado:null}};fetch("http://localhost:1337/api/items/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.us.user.jwt},body:JSON.stringify(t)}).then((async t=>{if(200===t.status){const s=await t.json();console.log(s),this.$router.push("/")}}))}},mounted(){console.log(this.us.user.role),"Admin"!==this.us.user.role&&(console.log("Você não é Admin"),this.$router.push("/")),this.getCategories()}},P=e(1241);const O=(0,P.A)(F,[["render",J],["__scopeId","data-v-00d30d91"]]);var R=O},2725:function(t,s,e){e.r(s),e.d(s,{default:function(){return w}});var a=e(6768),o=e(5130);const i=t=>((0,a.Qi)("data-v-2c4279bc"),t=t(),(0,a.jt)(),t),l={class:"cadastro-div"},r=i((()=>(0,a.Lk)("h1",{class:"text-center"},"Cadastro",-1))),n={class:"card-img-top profile-img-modal"},d={for:"pic-input"},c=["src"],u={class:"form-outline mb-4"},m=i((()=>(0,a.Lk)("label",{class:"form-label",for:"email"},"Username",-1))),h={class:"form-outline mb-4"},p=i((()=>(0,a.Lk)("label",{class:"form-label",for:"email"},"Email address",-1))),g={class:"form-outline mb-4"},f=i((()=>(0,a.Lk)("label",{class:"form-label",for:"pass"},"Password",-1)));function b(t,s,e,i,b,k){const v=(0,a.g2)("Message");return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.bo)((0,a.bF)(v,{msg:b.msg},null,8,["msg"]),[[o.aG,b.msg]]),r,(0,a.Lk)("form",null,[(0,a.Lk)("div",n,[(0,a.Lk)("label",d,[(0,a.Lk)("input",{type:"file",accept:"image/*",class:"pic-input",id:"pic-input",onChange:s[0]||(s[0]=(...t)=>k.mudarImg&&k.mudarImg(...t))},null,32),(0,a.Lk)("img",{src:b.img,alt:"Foto de perfil"},null,8,c)])]),(0,a.Lk)("div",u,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>b.usuario=t),type:"text",id:"username",class:"form-control"},null,512),[[o.Jo,b.usuario]]),m]),(0,a.Lk)("div",h,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>b.email=t),type:"email",id:"email",class:"form-control"},null,512),[[o.Jo,b.email]]),p]),(0,a.Lk)("div",g,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>b.senha=t),type:"password",id:"pass",class:"form-control"},null,512),[[o.Jo,b.senha]]),f]),(0,a.Lk)("button",{onClick:s[4]||(s[4]=(...t)=>k.cadastrar&&k.cadastrar(...t)),type:"button",class:"btn btn-primary btn-block mb-4"},"Cadastrar")])])}e(4114);var k=e(8602),v=e(8922),L={name:"Login",components:{Message:v.A},data(){return{msg:"",us:(0,k.k)(),img:"/img/user-ico.png",usuario:"",email:"",senha:""}},methods:{async cadastrar(){const t={username:this.usuario,email:this.email,password:this.senha,img:this.img};await fetch("http://localhost:1337/api/auth/local/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((async t=>{200===t.status?(this.msg="Usuario cadastrado com sucesso",setTimeout((()=>{this.msg=""}),5e3),this.logar()):400===t.status?(this.msg="Error",setTimeout((()=>{this.msg=""}),5e3)):console.log("Erro desconhecido")}))},async logar(){await fetch("http://localhost:1337/api/auth/local",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:this.email,password:this.senha})}).then((async t=>{if(200===t.status){const s=await t.json();console.log(s);const e=await fetch("http://localhost:1337/api/users/me?populate=role",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s.jwt}}),a=await e.json();console.log(a);const o={email:s.user.email,username:s.user.username,id:s.user.id,jwt:s.jwt,img:s.user.img,role:a.role.name};this.us.setUser(o),this.$router.push("/"),localStorage.setItem("user",JSON.stringify(o))}else 400===t.status?(this.email="",this.senha="",this.msg="Usuario ou senha invalidos",setTimeout((()=>{this.msg=""}),5e3)):console.log("Erro desconhecido")}))},mudarImg(t){const s=t.target.files[0],e=new FileReader;e.onload=t=>{this.img=t.target.result},e.readAsDataURL(s)}},mounted(){this.us.user&&this.$router.push("/")}},y=e(1241);const C=(0,y.A)(L,[["render",b],["__scopeId","data-v-2c4279bc"]]);var w=C},7331:function(t,s,e){e.r(s),e.d(s,{default:function(){return w}});var a=e(6768),o=e(5130);const i=t=>((0,a.Qi)("data-v-278b52f1"),t=t(),(0,a.jt)(),t),l={class:"login-div"},r=i((()=>(0,a.Lk)("h1",{class:"text-center"},"Login",-1))),n={class:"form-outline mb-4"},d=i((()=>(0,a.Lk)("label",{class:"form-label",for:"email"},"Email address",-1))),c={class:"form-outline mb-4"},u=i((()=>(0,a.Lk)("label",{class:"form-label",for:"pass"},"Password",-1))),m=(0,a.Fv)('<div class="row mb-4" data-v-278b52f1><div class="col d-flex justify-content-center" data-v-278b52f1><div class="form-check" data-v-278b52f1><input class="form-check-input" type="checkbox" value="" id="remember" checked data-v-278b52f1><label class="form-check-label" for="remember" data-v-278b52f1> Remember me </label></div></div><div class="col" data-v-278b52f1><a href="#!" data-v-278b52f1>Forgot password?</a></div></div>',1),h={class:"row mb-4"},p=i((()=>(0,a.Lk)("div",{class:"col"},[(0,a.Lk)("p",null,"Não possui conta?")],-1))),g={class:"col"},f=i((()=>(0,a.Lk)("a",{href:""},"Cadastre-se",-1)));function b(t,s,e,i,b,k){const v=(0,a.g2)("Message"),L=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.bo)((0,a.bF)(v,{msg:b.msg},null,8,["msg"]),[[o.aG,b.msg]]),r,(0,a.Lk)("form",null,[(0,a.Lk)("div",n,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":s[0]||(s[0]=s=>t.email=s),type:"email",id:"email",class:"form-control"},null,512),[[o.Jo,t.email]]),d]),(0,a.Lk)("div",c,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":s[1]||(s[1]=s=>t.senha=s),type:"password",id:"pass",class:"form-control"},null,512),[[o.Jo,t.senha]]),u]),m,(0,a.Lk)("div",h,[p,(0,a.Lk)("div",g,[(0,a.bF)(L,{to:"/cadastro"},{default:(0,a.k6)((()=>[f])),_:1})])]),(0,a.Lk)("button",{onClick:s[2]||(s[2]=(...t)=>k.logar&&k.logar(...t)),type:"button",class:"btn btn-primary btn-block mb-4"},"Sign in")])])}e(4114);var k=e(8602),v=e(8922),L={name:"Login",components:{Message:v.A},data(){return{msg:"",us:(0,k.k)()}},methods:{async logar(){await fetch("http://localhost:1337/api/auth/local",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:this.email,password:this.senha})}).then((async t=>{if(200===t.status){const s=await t.json();console.log(s);const e=await fetch("http://localhost:1337/api/users/me?populate=role",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s.jwt}}),a=await e.json();console.log(a);const o={email:s.user.email,username:s.user.username,id:s.user.id,jwt:s.jwt,img:s.user.img,role:a.role.name};this.us.setUser(o),this.$router.push("/"),document.getElementById("remember").checked&&localStorage.setItem("user",JSON.stringify(o))}else 400===t.status?(this.email="",this.senha="",this.msg="Usuario ou senha invalidos",setTimeout((()=>{this.msg=""}),5e3)):console.log("Erro desconhecido")}))}},mounted(){this.us.user&&this.$router.push("/")}},y=e(1241);const C=(0,y.A)(L,[["render",b],["__scopeId","data-v-278b52f1"]]);var w=C},2689:function(t,s,e){e.r(s),e.d(s,{default:function(){return lt}});var a=e(6768),o=e(4232),i=e(5130);const l=t=>((0,a.Qi)("data-v-050c7d66"),t=t(),(0,a.jt)(),t),r={key:0,class:"user-container"},n=l((()=>(0,a.Lk)("div",{class:"profile-text"},[(0,a.Lk)("h1",null,"Perfil de Usuario")],-1))),d={class:"profile-content"},c={class:"profile-card"},u={key:0,class:"card profile"},m=["src"],h={class:"card-body"},p={key:0,class:"card-title"},g={key:1,class:"card-text"},f={class:"card-footer"},b={class:"profile-info"},k={class:"button-group"},v={class:"container"},L=["src","alt"],y={class:"card-body"},C={class:"card-title udl"},w={class:"card-body-admin"},j={class:"card-text"},x={key:0,class:"admin-options"},E={key:0},I={key:1},T={class:"admin-btn-op"},A=["onClick"],S=["onClick"],U=["onClick"];function _(t,s,e,l,_,J){const X=(0,a.g2)("Modal");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(X),_.us.user?((0,a.uX)(),(0,a.CE)("div",r,[n,(0,a.Lk)("div",d,[(0,a.Lk)("div",c,[_.us.user?((0,a.uX)(),(0,a.CE)("div",u,[_.us.user?((0,a.uX)(),(0,a.CE)("img",{key:0,class:"card-img-top profile-img",src:_.us.user.img,alt:"Foto de perfil"},null,8,m)):(0,a.Q3)("",!0),(0,a.Lk)("div",h,[_.us.user?((0,a.uX)(),(0,a.CE)("h5",p,(0,o.v_)(_.us.user.username),1)):(0,a.Q3)("",!0),"Admin"===_.us.user.role?((0,a.uX)(),(0,a.CE)("p",g,(0,o.v_)(_.us.user.role),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",f,[(0,a.Lk)("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=(...t)=>J.abrirModal&&J.abrirModal(...t))},"Editar Perfil"),(0,a.Lk)("button",{onClick:s[1]||(s[1]=(...t)=>J.logout&&J.logout(...t))},"Logout")])])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",b,[(0,a.Lk)("div",k,[(0,a.Lk)("button",{class:"btn profile-btn",onClick:s[2]||(s[2]=t=>J.trocar(0))},"Solicitados"),(0,a.Lk)("button",{class:"btn profile-btn",onClick:s[3]||(s[3]=t=>J.trocar(1))},"Resgatados")]),(0,a.Lk)("div",v,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(_.cards,((t,s)=>(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",{class:"card extended",key:t.id},[(0,a.Lk)("img",{class:"card-extended-img",src:t.img,alt:t.alt},null,8,L),(0,a.Lk)("div",y,[(0,a.Lk)("div",C,[(0,a.Lk)("p",null,(0,o.v_)(t.title),1)]),(0,a.Lk)("div",w,[(0,a.Lk)("div",j,[(0,a.Lk)("p",null,(0,o.v_)(t.text),1),(0,a.Lk)("p",null,"Data de encontro: "+(0,o.v_)(t.date),1)]),"Admin"===this.us.user.role?((0,a.uX)(),(0,a.CE)("div",x,[t.resgatado?((0,a.uX)(),(0,a.CE)("p",I,[(0,a.eW)("Resgatado por: "),(0,a.Lk)("strong",null,(0,o.v_)(t.resgatado),1)])):((0,a.uX)(),(0,a.CE)("p",E,[(0,a.eW)("Solicitado por: "),(0,a.Lk)("strong",null,(0,o.v_)(t.solicitado),1)])),(0,a.Lk)("div",T,[(0,a.bo)((0,a.Lk)("button",{class:"btn btn-primary",onClick:e=>J.resgatar(s,t.id)},"Resgatar",8,A),[[i.aG,!t.resgatado]]),(0,a.bo)((0,a.Lk)("button",{class:"btn btn-danger",onClick:e=>J.excluirSolicitacao(s,t.id)},"Excluir solicitação",8,S),[[i.aG,!t.resgatado]]),(0,a.bo)((0,a.Lk)("button",{class:"btn btn-danger",onClick:e=>J.excluirResgate(s,t.id)},"Cancelar resgate",8,U),[[i.aG,t.resgatado]])])])):(0,a.Q3)("",!0)])])])),[[i.aG,t.show]]))),128))])])])])):(0,a.Q3)("",!0)])}e(4114);var J=e(8602);const X=t=>((0,a.Qi)("data-v-2c02314e"),t=t(),(0,a.jt)(),t),F={ref:"modal",class:"modal fade",id:"modal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},P={class:"modal-dialog modal-dialog-centered",role:"document"},O={class:"modal-content"},R={class:"modal-header"},M=X((()=>(0,a.Lk)("h5",{class:"modal-title",id:"exampleModalCenterTitle"},"Editar Perfil",-1))),N=X((()=>(0,a.Lk)("span",{"aria-hidden":"true"},"×",-1))),$=[N],Q={class:"modal-body"},V={class:"card-img-top profile-img-modal"},G={for:"pic-input"},B=["src"],D=X((()=>(0,a.Lk)("div",{class:"input-div"},[(0,a.Lk)("label",{for:""},"Username: "),(0,a.Lk)("br"),(0,a.Lk)("label",{for:""},"Email: ")],-1))),z={class:"input-div"},W=X((()=>(0,a.Lk)("br",null,null,-1))),K={class:"modal-footer"},q=X((()=>(0,a.Lk)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancelar",-1)));function H(t,s,e,o,l,r){return(0,a.uX)(),(0,a.CE)("div",F,[(0,a.Lk)("div",P,[(0,a.Lk)("div",O,[(0,a.Lk)("div",R,[M,(0,a.Lk)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:s[0]||(s[0]=(...s)=>t.cancelarAlteracao&&t.cancelarAlteracao(...s))},$)]),(0,a.Lk)("div",Q,[(0,a.Lk)("div",V,[(0,a.Lk)("label",G,[(0,a.Lk)("input",{type:"file",accept:"image/*",class:"pic-input",id:"pic-input",onChange:s[1]||(s[1]=(...t)=>r.mudarImg&&r.mudarImg(...t))},null,32),(0,a.Lk)("img",{src:l.img,alt:"Foto de perfil"},null,8,B)])]),D,(0,a.Lk)("div",z,[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=t=>l.username=t)},null,512),[[i.Jo,l.username]]),W,(0,a.bo)((0,a.Lk)("input",{type:"email","onUpdate:modelValue":s[3]||(s[3]=t=>l.email=t)},null,512),[[i.Jo,l.email]])])]),(0,a.Lk)("div",K,[q,(0,a.Lk)("button",{type:"button",class:"btn btn-primary","data-dismiss":"modal",onClick:s[4]||(s[4]=(...t)=>r.editarPerfil&&r.editarPerfil(...t))},"Salvar Alterações")])])])],512)}var Y=e(6587),Z=e.n(Y),tt={name:"Modal",data(){return{us:(0,J.k)(),username:"",email:"",img:""}},methods:{reset(){this.username=this.us.user.username,this.email=this.us.user.email,this.img=this.us.user.img},mudarImg(t){const s=t.target.files[0],e=new FileReader;e.onload=t=>{this.img=t.target.result},e.readAsDataURL(s)},editarPerfil(){if(this.username==this.us.user.username&&this.email==this.us.user.email&&this.img==this.us.user.img)return void this.reset();const t={img:this.img,username:this.username,email:this.email};fetch("http://localhost:1337/api/user/me",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.us.user.jwt},body:JSON.stringify(t)}).then((async t=>{if(200===t.status){const t=await fetch("http://localhost:1337/api/users/me?populate=role",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.us.user.jwt}}),s=await t.json();console.log(s);const e={email:s.email,username:s.username,id:s.id,jwt:this.us.user.jwt,img:s.img,role:s.role.name};this.us.setUser(e),localStorage.setItem("user",JSON.stringify(e)),this.reset()}}))}},mounted(){this.us.user&&(this.reset(),Z()(this.$refs.modal).on("hidden.bs.modal",this.reset))},beforeDestroy(){Z()(this.$refs.modal).off("hidden.bs.modal",this.reset)}},st=e(1241);const et=(0,st.A)(tt,[["render",H],["__scopeId","data-v-2c02314e"]]);var at=et,ot={name:"User",components:{Modal:at},data(){return{cards:[],type:["Solicitados","Resgatados"],typetext:"",us:(0,J.k)()}},methods:{logout(){this.us.setUser(null),localStorage.removeItem("user"),this.$router.push("/")},async getItems(){fetch("http://localhost:1337/api/items",{method:"GET",headers:{"Content-Type":"application/json"}}).then((async t=>{if(200===t.status){const s=await t.json();console.log(s.data),this.cards=[];for(let t=0;t<s.data.length;t++){const e={id:s.data[t].id,img:s.data[t].attributes.img,title:s.data[t].attributes.title,text:s.data[t].attributes.text,solicitado:s.data[t].attributes.solicitado,resgatado:s.data[t].attributes.resgatado,date:new Date(s.data[t].attributes.date).toLocaleDateString(),original_date:s.data[t].attributes.date,tipo:s.data[t].attributes.tipo,alt:"Item Encontrado",show:s.data[t].attributes.solicitado===this.us.user.username&&!s.data[t].attributes.resgatado||"Admin"===this.us.user.role&&s.data[t].attributes.solicitado&&!s.data[t].attributes.resgatado};this.cards.push(e)}}}))},async trocar(t){this.typetext=this.type[t];const s=document.querySelectorAll(".profile-btn");if(s.forEach((t=>{t.classList.remove("clicked")})),s[t].classList.add("clicked"),"Admin"!==this.us.user.role){if("Solicitados"===this.typetext)for(let e=0;e<this.cards.length;e++)this.cards[e].show=this.cards[e].solicitado===this.us.user.username&&!this.cards[e].resgatado;else if("Resgatados"===this.typetext)for(let e=0;e<this.cards.length;e++)this.cards[e].show=this.cards[e].resgatado===this.us.user.username}else if("Solicitados"===this.typetext)for(let e=0;e<this.cards.length;e++)this.cards[e].show=this.cards[e].solicitado&&!this.cards[e].resgatado;else if("Resgatados"===this.typetext)for(let e=0;e<this.cards.length;e++)this.cards[e].show=this.cards[e].resgatado},resgatar(t,s){const e={data:{title:this.cards[t].title,img:this.cards[t].img,text:this.cards[t].text,date:this.cards[t].original_date,solicitado:this.cards[t].solicitado,tipo:this.cards[t].tipo,resgatado:this.cards[t].solicitado}};fetch(`http://localhost:1337/api/items/${s}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.us.user.jwt},body:JSON.stringify(e)}).then((async t=>{const s=await t.json();console.log(s),this.cards=[],this.getItems()}))},excluirSolicitacao(t,s){const e={data:{title:this.cards[t].title,img:this.cards[t].img,text:this.cards[t].text,date:this.cards[t].original_date,solicitado:null,tipo:this.cards[t].tipo,resgatado:null}};fetch(`http://localhost:1337/api/items/${s}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.us.user.jwt},body:JSON.stringify(e)}).then((async t=>{const s=await t.json();console.log(s),this.cards=[],this.getItems()}))},excluirResgate(t,s){const e={data:{title:this.cards[t].title,img:this.cards[t].img,text:this.cards[t].text,date:this.cards[t].original_date,solicitado:this.cards[t].solicitado,tipo:this.cards[t].tipo,resgatado:null}};fetch(`http://localhost:1337/api/items/${s}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.us.user.jwt},body:JSON.stringify(e)}).then((async t=>{const s=await t.json();console.log(s),this.cards=[],this.getItems(),setTimeout((()=>{this.trocar(1)}),50)}))},abrirModal(){Z()("#modal").modal("show")}},mounted(){this.us.user||this.$router.push("/login"),this.getItems(),this.trocar(0)}};const it=(0,st.A)(ot,[["render",_],["__scopeId","data-v-050c7d66"]]);var lt=it}}]);
//# sourceMappingURL=about.fc403092.js.map